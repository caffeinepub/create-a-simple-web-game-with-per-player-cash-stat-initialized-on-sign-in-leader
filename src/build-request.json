{
  "kind": "build_request",
  "title": "Increase visual detail for coins and all in-game objects in the runner canvas",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Upgrade the in-game coin rendering in the runner canvas to look significantly more detailed than the current flat circle (e.g., add rim/thickness illusion, inner emboss, specular highlight, subtle shadow, and a lightweight animated shimmer/rotation effect) while keeping performance stable during gameplay.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Can you make the coin and all the things detailed."
        ]
      },
      "acceptanceCriteria": [
        "Coins in RunnerCanvas3D no longer appear as a single flat filled circle with a simple stroke; they have multiple visual layers (highlight + rim/edge + inner detail + shadow) that read as a ‘coin’.",
        "Coin detail scales correctly with distance (perspective scale) and remains visually clear across typical canvas sizes.",
        "The coin animation effect (e.g., shimmer/rotation) does not break collision/collection logic and does not noticeably reduce frame rate compared to current behavior."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Increase visual detail for all other core runner objects rendered in the canvas (track/ground, lane dividers, obstacles, and player) so they are more visually rich than basic polygons/rectangles, using consistent lighting/shading cues and the existing theme colors from CSS variables.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Can you make the coin and all the things detailed."
        ]
      },
      "acceptanceCriteria": [
        "Track/ground rendering includes additional depth/detail beyond a single filled shape (e.g., gradient, texture-like pattern, edge shading, or subtle motion cues) while preserving the current perspective layout.",
        "Obstacles visually read as distinct objects (low vs high) with added shading/edges and improved silhouettes compared to single-color rectangles.",
        "Player rendering is more detailed than a single rectangle and clearly communicates jump/slide states visually (without changing gameplay rules).",
        "All updated visuals still respect the current light/dark theme CSS variables (background/primary/accent/muted) and remain legible in both themes."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Add and use generated static sprite/texture assets (loaded from the frontend public assets folder) to support higher-detail visuals for the coin and other in-game objects, with graceful fallback to procedural canvas drawing if an asset fails to load.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Can you make the coin and all the things detailed."
        ]
      },
      "acceptanceCriteria": [
        "New image assets are placed under frontend/public/assets/generated and are referenced directly by the frontend (no backend routing).",
        "RunnerCanvas3D can render using the new assets when available (e.g., drawImage) and falls back to the procedural detailed drawing without runtime errors if assets are missing/unloaded.",
        "No user-facing text is added that is not in English."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Update the HUD coin icon asset to match the new more-detailed coin style so the HUD and in-world coin visuals feel consistent.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Can you make the coin and all the things detailed."
        ]
      },
      "acceptanceCriteria": [
        "The HUD coin icon at /assets/generated/coin-icon.dim_256x256.png is replaced by a more detailed version consistent with the in-world coin look.",
        "RunnerHUD continues to render the coin icon without layout regressions (size remains 32x32 in the HUD)."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under frontend/src/components/ui (read-only UI component sources).",
    "Do not modify Internet Identity hooks or actor hooks located in frontend/src/hooks/useInternetIdentity.ts(x) and frontend/src/hooks/useActor.ts (immutable paths).",
    "Keep the backend architecture unchanged (single Motoko actor); this request is visual-only unless strictly required for rendering."
  ],
  "nonGoals": [
    "Do not change coin award values, cash economy, collision thresholds, spawn rates, or other gameplay tuning as part of this visual-detail pass.",
    "Do not add new game mechanics (power-ups, new entity types, missions) beyond improving visuals for existing objects.",
    "Do not introduce external rendering engines or switch away from the current canvas-based runner renderer."
  ],
  "imageRequirements": {
    "required": [
      "Detailed gold coin sprite with rim, emboss, and specular highlights on transparent background (runner-coin-sprite.dim_256x256.png)",
      "Detailed low obstacle texture/sprite with shaded edges and surface detail on transparent background (runner-obstacle-low.dim_256x256.png)",
      "Detailed high obstacle texture/sprite with shaded edges and surface detail on transparent background (runner-obstacle-high.dim_256x256.png)",
      "Subtle track/ground texture or pattern tile that works in both light/dark palettes (runner-track-tile.dim_512x512.png)",
      "Simple stylized runner/player sprite with clear silhouette and shading on transparent background (runner-player-sprite.dim_256x256.png)"
    ],
    "edits": [
      "Increase detail and polish of the existing coin HUD icon while keeping a clean transparent background (coin-icon.dim_256x256.png > coin-icon-detailed.dim_256x256.png)"
    ]
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [
      "Improve in-game object visual fidelity (coins, obstacles, player, track) with more detailed rendering/sprites."
    ],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}